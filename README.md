# æƒ…ä¾£ä¸“å±å­˜å‚¨ç©ºé—´

ä¸€ä¸ªç”¨äºæƒ…ä¾£ä¸“å±ç…§ç‰‡ã€è§†é¢‘ã€æ–‡æ¡£å­˜å‚¨ç®¡ç†çš„å…¨æ ˆé¡¹ç›®ã€‚

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ client/          # å‰ç«¯é¡¹ç›®ï¼ˆReact + Viteï¼‰
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/    # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ ui/        # UI ç»„ä»¶ï¼ˆshadcn/uiï¼‰
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ router/        # è·¯ç”±é…ç½®
â”‚   â”‚   â”œâ”€â”€ lib/           # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ App.jsx
â”‚   â”‚   â””â”€â”€ main.jsx
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”‚
â””â”€â”€ server/          # åç«¯é¡¹ç›®ï¼ˆExpressï¼‰
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ controllers/   # æ§åˆ¶å™¨
    â”‚   â”œâ”€â”€ models/        # æ•°æ®æ¨¡å‹
    â”‚   â”œâ”€â”€ routes/        # è·¯ç”±
    â”‚   â”œâ”€â”€ utils/         # å·¥å…·ç±»
    â”‚   â””â”€â”€ server.js      # æœåŠ¡å™¨å…¥å£
    â”œâ”€â”€ package.json
    â””â”€â”€ .env.example
```

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **React 18** - UI æ¡†æ¶
- **Vite** - æ„å»ºå·¥å…·
- **Tailwind CSS v3** - æ ·å¼æ¡†æ¶
- **shadcn/ui** - UI ç»„ä»¶åº“
- **React Router v6** - è·¯ç”±ç®¡ç†

### åç«¯
- **Express** - Web æ¡†æ¶
- **MongoDB** - æ•°æ®åº“
- **Mongoose** - ODM
- **CORS** - è·¨åŸŸæ”¯æŒ
- **Multer** - æ–‡ä»¶ä¸Šä¼ ï¼ˆå·²é…ç½®ï¼Œå¾…ä½¿ç”¨ï¼‰

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js >= 16.0.0
- MongoDBï¼ˆæœ¬åœ°æˆ–è¿œç¨‹ï¼‰
- npm æˆ– yarn

### å®‰è£…ä¾èµ–

#### å‰ç«¯
```bash
cd client
npm install
```

#### åç«¯
```bash
cd server
npm install
```

### ç¯å¢ƒé…ç½®

1. å¤åˆ¶åç«¯ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶ï¼š
```bash
cd server
cp env.example .env
```

2. æ ¹æ®éœ€è¦ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„é…ç½®ï¼š
```env
PORT=3001
MONGODB_URI=mongodb://localhost:27017/couple-media
```

### å¯åŠ¨é¡¹ç›®

#### æ–¹æ³•ä¸€ï¼šåŒæ—¶å¯åŠ¨å‰åç«¯ï¼ˆæ¨èï¼‰âœ¨

åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œï¼š

```bash
# é¦–æ¬¡ä½¿ç”¨éœ€è¦å®‰è£…æ ¹ç›®å½•ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘ç¯å¢ƒï¼ˆåŒæ—¶å¯åŠ¨å‰åç«¯ï¼‰
npm run dev
```

è¿™ä¼šåŒæ—¶å¯åŠ¨ï¼š
- åç«¯æœåŠ¡ï¼š`http://localhost:3001`
- å‰ç«¯åº”ç”¨ï¼š`http://localhost:3000`

#### æ–¹æ³•äºŒï¼šåˆ†åˆ«å¯åŠ¨ï¼ˆä¸¤ä¸ªç»ˆç«¯ï¼‰

**ç»ˆç«¯ 1 - å¯åŠ¨åç«¯ï¼š**
```bash
cd server
npm start
# æˆ–ä½¿ç”¨å¼€å‘æ¨¡å¼ï¼ˆè‡ªåŠ¨é‡å¯ï¼‰
npm run dev
```

**ç»ˆç«¯ 2 - å¯åŠ¨å‰ç«¯ï¼š**
```bash
cd client
npm run dev
```

> ğŸ’¡ **æç¤º**ï¼šè¯¦ç»†å¯åŠ¨è¯´æ˜è¯·æŸ¥çœ‹ [START.md](./START.md)

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

#### å‰ç«¯
```bash
cd client
npm run build
```

æ„å»ºäº§ç‰©å°†è¾“å‡ºåˆ° `client/dist` ç›®å½•

## åŠŸèƒ½æ¨¡å—

### å‰ç«¯é¡µé¢
- âœ… é¦–é¡µ - æ•°æ®æ¦‚è§ˆ
- âœ… ç…§ç‰‡ç®¡ç†
- âœ… è§†é¢‘ç®¡ç†
- âœ… æ–‡æ¡£ç®¡ç†
- âœ… ç›¸å†Œç®¡ç†
- âœ… æœ€è¿‘è®¿é—®
- âœ… æ”¶è—å¤¹

### åç«¯æ¥å£

#### è®¤è¯ç›¸å…³ (`/api/auth`)
- `POST /api/auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/login` - ç”¨æˆ·ç™»å½•
- `POST /api/auth/logout` - ç”¨æˆ·ç™»å‡º
- `POST /api/auth/refresh` - åˆ·æ–°ä»¤ç‰Œ

#### ç”¨æˆ·ç›¸å…³ (`/api/users`)
- `GET /api/users/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `PUT /api/users/me` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `GET /api/users` - è·å–ç”¨æˆ·åˆ—è¡¨
- `GET /api/users/:id` - è·å–æŒ‡å®šç”¨æˆ·ä¿¡æ¯

#### æ–‡ä»¶ç›¸å…³ (`/api/files`)
- `POST /api/files/upload` - ä¸Šä¼ æ–‡ä»¶
- `GET /api/files` - è·å–æ–‡ä»¶åˆ—è¡¨
- `GET /api/files/type/:type` - æ ¹æ®ç±»å‹è·å–æ–‡ä»¶ï¼ˆphoto/video/documentï¼‰
- `GET /api/files/:id` - è·å–æ–‡ä»¶è¯¦æƒ…
- `PUT /api/files/:id` - æ›´æ–°æ–‡ä»¶ä¿¡æ¯
- `DELETE /api/files/:id` - åˆ é™¤æ–‡ä»¶
- `POST /api/files/:id/favorite` - æ”¶è—/å–æ¶ˆæ”¶è—æ–‡ä»¶

#### ç›¸å†Œç›¸å…³ (`/api/albums`)
- `POST /api/albums` - åˆ›å»ºç›¸å†Œ
- `GET /api/albums` - è·å–æ‰€æœ‰ç›¸å†Œ
- `GET /api/albums/:id` - è·å–ç›¸å†Œè¯¦æƒ…
- `PUT /api/albums/:id` - æ›´æ–°ç›¸å†Œä¿¡æ¯
- `DELETE /api/albums/:id` - åˆ é™¤ç›¸å†Œ
- `POST /api/albums/:id/files` - å‘ç›¸å†Œæ·»åŠ æ–‡ä»¶
- `DELETE /api/albums/:id/files/:fileId` - ä»ç›¸å†Œç§»é™¤æ–‡ä»¶

## æ•°æ®æ¨¡å‹

### Userï¼ˆç”¨æˆ·ï¼‰
- email - é‚®ç®±ï¼ˆå”¯ä¸€ï¼‰
- password - å¯†ç 
- name - å§“å
- avatar - å¤´åƒ
- role - è§’è‰²ï¼ˆuser/adminï¼‰
- isActive - æ˜¯å¦æ¿€æ´»

### Fileï¼ˆæ–‡ä»¶å…ƒæ•°æ®ï¼‰
- name - æ–‡ä»¶å
- originalName - åŸå§‹æ–‡ä»¶å
- type - æ–‡ä»¶ç±»å‹ï¼ˆphoto/video/documentï¼‰
- mimeType - MIME ç±»å‹
- size - æ–‡ä»¶å¤§å°
- url - æ–‡ä»¶URL
- thumbnailUrl - ç¼©ç•¥å›¾URL
- description - æè¿°
- tags - æ ‡ç­¾
- isFavorite - æ˜¯å¦æ”¶è—
- uploadedBy - ä¸Šä¼ ç”¨æˆ·ID
- albumId - æ‰€å±ç›¸å†ŒID
- duration - è§†é¢‘æ—¶é•¿ï¼ˆç§’ï¼‰
- width - å®½åº¦
- height - é«˜åº¦
- pageCount - PDF é¡µæ•°

### Albumï¼ˆç›¸å†Œï¼‰
- name - ç›¸å†Œåç§°
- description - æè¿°
- coverImage - å°é¢å›¾ç‰‡
- files - æ–‡ä»¶IDæ•°ç»„
- createdBy - åˆ›å»ºç”¨æˆ·ID
- isPrivate - æ˜¯å¦ç§æœ‰
- tags - æ ‡ç­¾

## å¼€å‘è¯´æ˜

### å½“å‰çŠ¶æ€
- âœ… é¡¹ç›®åŸºç¡€æ¶æ„å·²æ­å»ºå®Œæˆ
- âœ… å‰ç«¯é¡µé¢å¸ƒå±€å’Œè·¯ç”±å·²é…ç½®
- âœ… åç«¯è·¯ç”±å’Œæ§åˆ¶å™¨å ä½å·²åˆ›å»º
- âœ… æ•°æ®æ¨¡å‹å·²å®šä¹‰
- âš ï¸ æ‰€æœ‰æ¥å£ç›®å‰ä»…è¿”å›å ä½æ•°æ®ï¼Œä¸šåŠ¡é€»è¾‘å¾…å®ç°

### ä¸‹ä¸€æ­¥å¼€å‘å»ºè®®
1. å®ç°ç”¨æˆ·è®¤è¯ï¼ˆJWTï¼‰
2. å®ç°æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½
3. å®ç°æ–‡ä»¶åˆ—è¡¨æŸ¥è¯¢å’Œç­›é€‰
4. å®ç°ç›¸å†Œç®¡ç†åŠŸèƒ½
5. æ·»åŠ æƒé™æ§åˆ¶
6. å®ç°æ–‡ä»¶é¢„è§ˆåŠŸèƒ½

## è®¸å¯è¯

MIT

