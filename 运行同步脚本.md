# 运行同步脚本 - 解决执行策略问题

## 🔒 问题说明

PowerShell 默认禁止运行脚本，这是 Windows 的安全策略。

## ✅ 解决方法

### 方法一：临时允许执行（推荐）

**在 PowerShell 中执行：**

```powershell
# 临时允许执行脚本（仅当前会话）
Set-ExecutionPolicy -ExecutionPolicy Bypass -Scope Process

# 然后运行脚本
.\sync-from-server.ps1
```

### 方法二：使用批处理文件（最简单）

**直接双击运行：**
```
sync-from-server.bat
```

**或者在命令行执行：**
```cmd
sync-from-server.bat
```

### 方法三：直接执行命令（不需要脚本）

**在 PowerShell 中直接执行：**

```powershell
$SERVER_IP = "39.97.243.8"
$SERVER_USER = "admin"
$SERVER_PATH = "/home/admin/couple-media-website/server"

# 下载数据文件
scp ${SERVER_USER}@${SERVER_IP}:${SERVER_PATH}/data/*.json server/data/

# 下载照片
scp -r ${SERVER_USER}@${SERVER_IP}:${SERVER_PATH}/uploads/photos server/uploads/

# 下载视频
scp -r ${SERVER_USER}@${SERVER_IP}:${SERVER_PATH}/uploads/videos server/uploads/
```

### 方法四：永久允许执行（不推荐）

如果需要永久允许，可以修改执行策略：

```powershell
# 以管理员身份运行 PowerShell，然后执行：
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

**注意**：这会降低安全性，不推荐。

---

## 🎯 推荐操作

**最简单的方式：直接双击运行 `sync-from-server.bat`**

